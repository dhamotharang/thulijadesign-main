<h2 mat-dialog-title>{{ 'ORGANIZATION' | translate }} - {{ 'NEW' | translate }}</h2>
<mat-dialog-content>
	<form [formGroup]="organizationForm" *ngIf="organizationForm">
		<mat-card-subtitle *ngIf="errorMessage" class="alert-danger">{{ errorMessage }}</mat-card-subtitle>
		<mat-card-content class="my-form">
			<mat-form-field>
				<mat-label>{{ 'ORGANIZATION-ORGANIZATIONTYPE' | translate }}</mat-label>
				<mat-select formControlName="organizationType" id="organizationType" name="organizationType" 
						[compareWith]="compareOrganizationType" required>
				    <mat-option *ngFor="let organizationType of organizationTypes" [value]="organizationType">
				    	{{ organizationType.name }}</mat-option>
				</mat-select>
				<mat-error *ngIf="hasError('organizationType', 'required')">
					{{ 'ORGANIZATION-ORGANIZATIONTYPE' | translate }}: {{ 'FIELD-IS-REQUIRED' | translate }}</mat-error>
			</mat-form-field>
			<mat-form-field>
				<input matInput type="text" formControlName="abbreviation" id="abbreviation" 
					name="abbreviation" placeholder="{{ 'ORGANIZATION-ABBREVIATION' | translate }}" 
					minlength="1" maxlength="50" required />
                <mat-error *ngIf="hasError('abbreviation', 'required')">
                    {{ 'ORGANIZATION-ABBREVIATION' | translate }}: {{ 'FIELD-IS-REQUIRED' | translate }}</mat-error>
                <mat-error *ngIf="hasError('abbreviation', 'minlength')">
                    {{ 'ORGANIZATION-ABBREVIATION' | translate }}: {{ 'FIELD-MUSTBE-MINIMUM-LENGTH' | translate }} 1</mat-error>
                <mat-error *ngIf="hasError('abbreviation', 'maxlength')">
                    {{ 'ORGANIZATION-ABBREVIATION' | translate }}: {{ 'FIELD-MUSTBE-MAXIMUM-LENGTH' | translate }} 50</mat-error>
			</mat-form-field>
			<mat-form-field>
				<input matInput type="text" formControlName="name" id="name" 
					name="name" placeholder="{{ 'ORGANIZATION-NAME' | translate }}" 
					minlength="1" maxlength="150" required />
				<mat-icon matPrefix style="padding-right: 20px;">account_balance</mat-icon>
                <mat-error *ngIf="hasError('name', 'required')">
                    {{ 'ORGANIZATION-NAME' | translate }}: {{ 'FIELD-IS-REQUIRED' | translate }}</mat-error>
                <mat-error *ngIf="hasError('name', 'minlength')">
                    {{ 'ORGANIZATION-NAME' | translate }}: {{ 'FIELD-MUSTBE-MINIMUM-LENGTH' | translate }} 1</mat-error>
                <mat-error *ngIf="hasError('name', 'maxlength')">
                    {{ 'ORGANIZATION-NAME' | translate }}: {{ 'FIELD-MUSTBE-MAXIMUM-LENGTH' | translate }} 150</mat-error>
			</mat-form-field>
			<mat-form-field>
				<input matInput type="text" formControlName="domainUrl" id="domainUrl" 
					name="domainUrl" placeholder="{{ 'ORGANIZATION-DOMAINURL' | translate }}" 
					minlength="1" maxlength="120" />
                <mat-error *ngIf="hasError('domainUrl', 'minlength')">
                    {{ 'ORGANIZATION-DOMAINURL' | translate }}: {{ 'FIELD-MUSTBE-MINIMUM-LENGTH' | translate }} 1</mat-error>
                <mat-error *ngIf="hasError('domainUrl', 'maxlength')">
                    {{ 'ORGANIZATION-DOMAINURL' | translate }}: {{ 'FIELD-MUSTBE-MAXIMUM-LENGTH' | translate }} 120</mat-error>
			</mat-form-field>
			<mat-form-field>
				<input matInput type="text" formControlName="googleAnalyticCode" id="googleAnalyticCode" 
					name="googleAnalyticCode" placeholder="{{ 'ORGANIZATION-GOOGLEANALYTICCODE' | translate }}" 
					minlength="1" maxlength="20" />
                <mat-error *ngIf="hasError('googleAnalyticCode', 'minlength')">
                    {{ 'ORGANIZATION-GOOGLEANALYTICCODE' | translate }}: {{ 'FIELD-MUSTBE-MINIMUM-LENGTH' | translate }} 1</mat-error>
                <mat-error *ngIf="hasError('googleAnalyticCode', 'maxlength')">
                    {{ 'ORGANIZATION-GOOGLEANALYTICCODE' | translate }}: {{ 'FIELD-MUSTBE-MAXIMUM-LENGTH' | translate }} 20</mat-error>
			</mat-form-field>
			<section class="checkbox-section">
				<mat-checkbox formControlName="organizationAdministrator" 
					id="organizationAdministrator">organizationAdministrator
				</mat-checkbox>
			</section>
			<section class="checkbox-section">
				<mat-checkbox formControlName="organizationTypeAdministrator" 
					id="organizationTypeAdministrator">organizationTypeAdministrator
				</mat-checkbox>
			</section>
			<mat-form-field>
				<input matInput type="text" formControlName="profile" id="profile" 
					name="profile" placeholder="{{ 'ORGANIZATION-PROFILE' | translate }}" 
					minlength="1" maxlength="25" />
                <mat-error *ngIf="hasError('profile', 'minlength')">
                    {{ 'ORGANIZATION-PROFILE' | translate }}: {{ 'FIELD-MUSTBE-MINIMUM-LENGTH' | translate }} 1</mat-error>
                <mat-error *ngIf="hasError('profile', 'maxlength')">
                    {{ 'ORGANIZATION-PROFILE' | translate }}: {{ 'FIELD-MUSTBE-MAXIMUM-LENGTH' | translate }} 25</mat-error>
			</mat-form-field>
        </mat-card-content>
    </form>
</mat-dialog-content>
<mat-dialog-actions>
    <button mat-raised-button color="primary" (click)="save(organizationForm.value)" 
        [disabled]="!organizationForm.valid">{{ 'SAVE' | translate }}</button>
    <button type="button" mat-raised-button color="warn"
        (click)="onCancel()">{{ 'CANCEL' | translate }}</button>
</mat-dialog-actions>